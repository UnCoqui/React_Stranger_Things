{"version":3,"sources":["api/index.js","components/CreatePost.js","components/profile/Messages.js","components/SendMessage.js","components/profile/MyPosts.js","components/profile/Profile.js","components/Posts.js","components/Post.js","components/App.js","components/LoginPage.js","components/Title.js","components/NavBar.js","index.js"],"names":["callApi","a","url","method","token","body","options","toUpperCase","headers","JSON","stringify","fetch","BASE_URL","response","json","data","error","console","CreatePost","useState","title","setTitle","description","setDescription","price","setPrice","location","setLocation","willDeliver","setWillDeliver","history","useHistory","handleSubmit","event","preventDefault","post","success","push","id","onSubmit","type","placeholder","required","onChange","target","value","name","Messages","userData","myUsername","username","myMessages","messages","filter","mess","fromUser","map","recMessage","content","onClick","_id","goBack","SendMessage","messageBody","setMessageBody","postId","useParams","handleSend","message","alert","rows","cols","handleDelete","setPosts","posts","MyPosts","myPosts","active","Profile","to","Posts","searchTerm","updateSearchTerm","postsToDisplay","length","searchTermLower","toLowerCase","author","includes","postMatches","Post","myUserName","find","handleClick","singlePost","postAuthor","fetchUserData","fetchPosts","App","setToken","setUserData","useEffect","localStorage","getItem","exact","path","action","LoginPage","setUsername","password","setPassword","isLogin","oppositeTitle","oppositeAction","respMessage","setRespMessage","user","setItem","Title","NavBar","className","clear","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3ae26661.chunk.js","sourcesContent":["export const BASE_URL = 'https://strangers-things.herokuapp.com/api/';\nexport const COHORT_NAME = '2010-USD-RM-WEB-PT';\nexport const API_URL = BASE_URL + COHORT_NAME;\n\nexport const callApi = async ({ url, method, token, body }) => {\n    // console.log('callApi: ', { url, method, token, body });\n    try {\n        const options = {\n            method: method ? method.toUpperCase() : 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body),\n        };\n        if (token) {\n            options.headers['Authorization'] = `Bearer ${token}`;\n        }\n        // console.log('request url: ', API_URL + url);\n        // console.log('options: ', options);\n        const response = await fetch(API_URL + url, options);\n        const data = await response.json();\n        // console.log('data: ', data);\n        if (data.error) throw data.error;\n        return data;\n    } catch (error) {\n        console.error('ERROR: ', error);\n        return error;\n     \n    }\n};","import React, { useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport { callApi } from \"../api\";\n\nconst CreatePost = ({ token }) => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [location, setLocation] = useState(\"On Request\");\n  const [willDeliver, setWillDeliver] = useState(false);\n  const history = useHistory();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const data = await callApi({\n      url: `/posts`,\n      body: { post: { title, description, price, location, willDeliver } },\n      method: \"POST\",\n      token: token,\n    });\n    const postSuccess = data?.success;\n    if (postSuccess) {\n      history.push(\"/profile\");\n    }\n  };\n\n  return (\n    <div id=\"create\">\n    <div id=\"createpost\">\n      <form onSubmit={handleSubmit}>\n          <fieldset>\n        <div>\n          <legend >Create your own Post:</legend>\n          <label>Title*:</label>\n          <input\n            type=\"text\"\n            placeholder=\"Title*\"\n            required\n            onChange={(event) => setTitle(event.target.value)}\n          ></input>\n        </div>\n        <div>\n          <label>Description*:</label>\n          <input\n            type=\"text\"\n            placeholder=\"Description*\"\n            required\n            onChange={(event) => setDescription(event.target.value)}\n          ></input>\n        </div>\n        <div>\n          <label>Price*:</label>\n          <input\n            type=\"text\"\n            placeholder=\"Price*\"\n            required\n            onChange={(event) => setPrice(event.target.value)}\n          ></input>\n        </div>\n        <div>\n          <label>Location (optional):</label>\n          <input\n            type=\"text\"\n            placeholder=\"Location\"\n            onChange={(event) => setLocation(event.target.value)}\n          ></input>\n        </div>\n        <div>\n        <span>\n          <input\n            type=\"checkbox\"\n            id=\"willDeliver\"\n            name=\"willDeliver\"\n            value={true}\n            onChange={(event) => setWillDeliver(event.target.value)}\n          ></input>\n          <label> Check if you will deliver</label>\n        </span>\n        </div>\n        <div>\n          <button type=\"submit\">Create</button>\n        </div>\n        </fieldset>\n      </form>\n    </div>\n    </div> \n  );\n};\nexport default CreatePost;\n","import React, { useState } from \"react\";\nimport { useHistory  } from \"react-router-dom\";\n\n\nconst Messages = ({ userData }) => {\n  \n  const myUsername = userData.username;\n  const myMessages = userData.messages;\n  const history = useHistory();\n\n  if (!myMessages){\n    return <div>isLoading</div>\n} \n\n  return (\n    <div id=\"allMessages\">\n      <h2>Messages to me:</h2>\n      {myMessages\n        .filter((mess) => mess.fromUser.username != myUsername)\n        .map((recMessage) => (\n          <div key={recMessage._id} id=\"toMessages\">\n            <h3>From: {recMessage.fromUser.username} </h3>\n            <div>Message: {recMessage.content} </div>\n            <div>Post: {recMessage.post.title} </div>\n            <button\n              onClick={() => {\n                history.push(`/posts/${recMessage.post._id}`);\n              }}\n            >\n              View My Post\n            </button>\n            <button\n              onClick={() => {\n                history.goBack();\n              }}\n            >\n              Go back to Profile\n            </button>\n          </div>\n        ))}\n\n      <h2>Messages from me:</h2>\n      {myMessages\n        .filter((mess) => mess.fromUser.username === myUsername)\n        .map((recMessage) => (\n          <div key={recMessage._id} id=\"fromMessages\">\n            <h3>From: {recMessage.fromUser.username} </h3>\n            <div>Message: {recMessage.content} </div>\n            <div>Post: {recMessage.post.title} </div>\n            <button\n              onClick={() => {\n                history.push(`/posts/${recMessage.post._id}`);\n              }}\n            >\n              View Post\n            </button>\n            <button\n              onClick={() => {\n                history.goBack();\n              }}\n            >\n              Go back to Profile\n            </button>\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default Messages;\n","import React, { useState } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { callApi } from '../api';\n\n\nconst SendMessage = ({ token }) => {\n    const [messageBody, setMessageBody] = useState(\"\");\n    const history = useHistory();\n    const { postId } = useParams();\n    // console.log(\"sendmessage\", postId)\n    const handleSend = async (event) => {\n      event.preventDefault();\n      const data = await callApi({\n        url: `/posts/${postId}/messages`,\n        body: { message: { content: messageBody } },\n        method: \"POST\",\n        token: token,\n      });\n      const postSuccess = data?.success;\n    if (postSuccess) {\n      alert(\"Message sent!\")    \n      history.push(\"/profile\");\n    }\n\n    };\n    return (\n      <div>\n        <form onSubmit={handleSend}>\n          <textarea \n            placeholder=\"Enter your message here\"\n            rows={`10`} cols={`40`} required\n            value={messageBody}\n            onChange={(event) => {\n              setMessageBody(event.target.value);\n            }}\n          />\n          <p><button type=\"submit\">\n            Send\n          </button>\n          <button\n            onClick={() => {\n              history.goBack();\n            }}\n          >\n            Go back to post\n          </button></p>\n\n        </form>\n      </div>\n    );\n  };\n\n  export default SendMessage","import React, { useState } from \"react\";\nimport { useHistory  } from \"react-router-dom\";\n\n\nconst handleDelete = async () => {\n    const { success, error } = await callApi({\n      url: `/posts/${post._id}`,\n      token: token,\n      method: \"DELETE\",\n    });\n\n    if (success) {\n        alert(\"Post is Deleted and will no longer be available!\")\n        history.push(\"/profile\")  \n      setPosts([...posts]);\n    }\n    else{\n        alert(\"Seems like you are not authorized to delete this post.\")\n    history.push(\"/posts\");\n    }\n  };\n\n\n\n\nconst MyPosts = ({ userData }) => {\n  \n  const myUsername = userData.username;\n  const myPosts = userData.posts;\n  const history = useHistory();\n  \n  if (!myPosts){\n    return <div>isLoading</div>\n        } \n\n  return (\n    <div id=\"posts\">\n      <h2>Posts from me:</h2>\n      {myPosts.map((post) => (\n\n<div key={post._id} id=\"multipost\">\n  <h3>{post.title} </h3>\n  \n  <div>Description: {post.description} </div>\n  <h4>Active listing? {post.active? \"Yes\" : \"No\"}</h4>\n  <button\n    onClick={() => {\n      history.push(`/posts/${post._id}`);\n    }}\n  >\n    View My Post\n  </button>\n  <button id=\"deleteButton\" onClick={handleDelete}>Delete</button>\n  <button\n    onClick={() => {\n      history.goBack();\n    }}\n  >\n    Go back to Profile\n  </button>\n</div>\n))}\n\n         \n    </div>\n  \n  )\n};\n\n\nexport default MyPosts;\n","import React from \"react\";\nimport { useHistory, Link, Switch, Route } from \"react-router-dom\";\n\nconst Profile = ({ userData, token, posts }) => {\n  const history = useHistory();\n\n  // console.log(\"profile\", userData)\n  // console.log(\"messages\", myMessages[0].content)\n  return (\n    <div id=\"posts\">\n      <div id=\"profile\">\n        <h1>Profile page</h1>\n        {userData.username && (\n          <div>\n            <h3>Hello, {userData.username}!</h3>\n          </div>\n        )}\n\n        <div>\n          <Link to=\"/profile/myposts\">My posts</Link>\n        </div>\n        <div>\n          <Link to=\"/profile/messages\">My Messages</Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React, {useState} from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n\nconst postMatches = (post, searchTerm) => {\n  const searchTermLower = searchTerm.toLowerCase();\n  const {\n      description,\n      location,\n      title,\n      author: { username },\n  } = post;\n\n  const toMatch = [description, location, title, username];\n  for (const field of toMatch) {\n      if (field.toLowerCase().includes(searchTermLower)) {\n          return true;\n      }\n  }\n};\n\n\n\n\nconst Posts = ({ posts }) => {\n  const history = useHistory();\n\nconst [searchTerm, updateSearchTerm] = useState('');\n\nconst postsToDisplay =\n    searchTerm.length > 0\n        ? posts.filter((post) => postMatches(post, searchTerm))\n        : posts;\n\n  return (\n    <div id=\"posts\">\n      \n      <div id=\"search\">\n      <h2>Search posts:</h2>\n      <input\n                    type=\"text\"\n                    placeholder=\"Search for posts\"\n                    value={searchTerm}\n                    onChange={(event) => {\n                        updateSearchTerm(event.target.value);\n                    }}\n                />\n      </div>\n      \n<legend>Posts:</legend>\n{postsToDisplay.length > 0 ? (\n \n                postsToDisplay.map((post) => (\n                  \n                    <div key={post._id} id=\"multipost\">\n                        <h4>{post.title}</h4>\n                        <div>Posted by: {post.author.username}</div>\n                        <div>Description: {post.description} </div>\n                        <button\n                            onClick={() => {\n                                history.push(`/posts/${post._id}`);\n                            }}\n                        >\n                            View Post\n                        </button>\n                    </div>\n                ))\n            ) : (\n                <h5>No posts to display</h5>\n            )}\n\n\n\n\n\n    </div>\n  );\n};\n\nexport default Posts;\n","import React from 'react';\nimport { callApi } from '../api';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst Post = ({posts, setPosts, token, userData}) => {\n\nconst myUserName = userData.username;    \nconst history= useHistory()\nconst {postId} = useParams();\nconst post = posts.find((post) => postId === post._id);\n\n\nconst handleClick = () => {\n    history.goBack();\n  };\n\n\nconst handleDelete = async () => {\n    const { success, error } = await callApi({\n      url: `/posts/${post._id}`,\n      token: token,\n      method: \"DELETE\",\n    });\n\n    if (success) {\n        alert(\"Post is Deleted and will no longer be available!\")\n        history.push(\"/profile\")  \n      setPosts([...posts]);\n    }\n    else{\n        alert(\"Seems like you are not authorized to delete this post.\")\n    history.push(\"/posts\");\n    }\n  };\n  if (!post){\n    <div>Is loading . . . </div>  \n    const myPosts = userData.posts;   \n    const singlePost = myPosts.find((post) => postId === post._id);\n    // console.log(\"single posts\", singlePost.title);\n    return <div id=\"multipost\">Seems like the {singlePost.title} listing is no longer active\n    <button onClick={handleClick}>Go back</button>\n    </div>\n  } \n  const postAuthor = post.author.username;\n\n  return (\n    < div id=\"posts\">\n      <div id=\"multipost\">  \n      <h2>{post.title}</h2>\n      <div>Posted by: {post.author.username}</div>\n      <div>Description: {post.description} </div>\n      <div>Price: {post.price}</div>\n      <div>Location: {post.location}</div>\n      <div>Delivers: {post.willDeliver ? \"Yes\" : \"No\"}</div>\n      <button onClick={handleClick}>Go back</button>\n      {!token ? (\n        \"\"\n      ) : postAuthor === myUserName ? (\n        \"\"\n      ) : (\n        <button\n          onClick={() => {\n            history.push(`/sendmessage/${post._id}`);\n          }}\n        >\n          Send Message\n        </button>\n      )}\n      {!token ? (\n        \"\"\n      ) : postAuthor != myUserName ? (\n        \"\"\n      ) : (\n        <button id=\"deleteButton\" onClick={handleDelete}>Delete</button>\n      )}\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport {\n  LoginPage,\n  Posts,\n  Post,\n  NavBar,\n  CreatePost,\n  Title,\n  SendMessage,\n  Profile,\n  MyPosts,\n  Messages\n} from \".\";\n\nimport { callApi } from \"../api\";\n\nconst fetchUserData = async (token) => {\n  const { data } = await callApi({\n    url: \"/users/me\",\n    token,\n  });\n\n  return data;\n};\nconst fetchPosts = async () => {\n  const {\n    data: { posts },\n  } = await callApi({\n    url: \"/posts\",\n  });\n  return posts;\n};\n\nconst App = () => {\n  const [token, setToken] = useState(\"\");\n  const [userData, setUserData] = useState({});\n  const [posts, setPosts] = useState([]);\n  const history = useHistory();\n  // console.log(\"app\", history);\n\n  useEffect(async () => {\n    const posts = await fetchPosts();\n    setPosts(posts);\n\n    if (!token) {\n      setToken(localStorage.getItem(\"token\"));\n      return;\n    }\n    const data = await fetchUserData(token);\n    if (data && data.username) {\n      setUserData(data);\n    }\n  }, [token]);\n\n  return (\n    <div id=\"homePage\">\n      <Title userData={userData} />\n      <NavBar\n        userData={userData}\n        setUserData={setUserData}\n        setToken={setToken}\n      />\n      {userData.username ? (\n        \"\"\n      ) : (\n        <h3 id=\"welcome\">\n          Welcome to our site! You can view our posts or register to create your\n          own.\n        </h3>\n      )}\n      <Switch>\n        <Route exact path=\"/posts\">\n          <Posts posts={posts} />\n        </Route>\n\n        <Route path=\"/register\">\n          <LoginPage\n            action=\"register\"\n            setToken={setToken}\n            setUserData={setUserData}\n          />\n        </Route>\n        <Route path=\"/login\">\n          <LoginPage\n            action=\"login\"\n            setToken={setToken}\n            setUserData={setUserData}\n          />\n        </Route>\n        <Route exact path=\"/posts/createpost\">\n          <CreatePost token={token} />\n        </Route>\n        <Route path=\"/posts/:postId\">\n          <Post setPosts={\n            setPosts} posts={posts} userData={userData} token={token}/>\n        </Route>\n        <Route exact path=\"/profile/messages\">\n          <Messages userData={userData} setUserData={setUserData}/>\n        </Route>\n        <Route exact path=\"/profile/myposts\">\n          <MyPosts userData={userData} setUserData={setUserData}/>\n        </Route>\n        <Route exact path=\"/profile\">\n          <Profile userData={userData} token={token} posts={posts} />\n        </Route>\n        <Route path='/sendmessage/:postId'>\n        <SendMessage token={token} />\n\n        </Route>\n        \n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { callApi } from '../api';\n\n\n\n\nconst LoginPage = ({ action, setToken, setUserData }) => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const isLogin = action === 'login';\n    const title = isLogin ? 'Login' : 'Register';\n    const oppositeTitle = isLogin ? 'Register' : 'Login';\n    const oppositeAction = isLogin ? 'register' : 'login';\n    const history = useHistory();\n    const [respMessage, setRespMessage] = useState('');  \n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n        const data = await callApi({\n            url: `/users/${action}`,\n            body: { user: { username, password } },\n            method: 'POST',\n        });\n        const token = data?.data?.token;\n\n        if (token) {\n            localStorage.setItem('token', token);\n            setUsername('');\n            setPassword('');\n            setToken(token);\n            history.push('/profile');\n        }\n        // if you get an error reponse grab the message\n        else{ \n            setRespMessage(data.message); \n        }\n    };\n    return (\n        <div id=\"loginPage\">\n            <div id=\"loginInputs\">\n            <h2>{title}</h2>\n            <form onSubmit={handleSubmit}>\n                <div><label>Username:</label>\n                <input\n                    type=\"text\"\n                    placeholder=\"username\"\n                    required\n                    onChange={(event) => setUsername(event.target.value)}\n                ></input></div>\n                <div><label>Password:</label>\n                <input\n                    type=\"password\"\n                    placeholder=\"password\"\n                    onChange={(event) => setPassword(event.target.value)}\n                ></input>\n                </div>\n                <button type=\"submit\">{title}</button>\n            </form>\n            {/* display this error message if they don't succesfully login or register */}\n            {respMessage ? <div id=\"errorMessage\"> { respMessage }</div> : ''}\n            <button><Link to={`/${oppositeAction}`}>{oppositeTitle}</Link></button>\n        </div>\n    </div>\n    );\n};\n\nexport default LoginPage;","import React, { useState } from \"react\";\n\n\nconst Title = ({userData}) => {\n    return ( \n    <div id=\"title\">\n    <h1>\n     Stranger's Things\n    </h1>\n    <h5>\n      Using React and an API to simulate a \"popular\" listing website.\n    </h5>\n    \n  </div>\n    )\n}\nexport default Title;","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nconst NavBar = ({ userData, setUserData, setToken }) => {\n  const history = useHistory();\n  const logOutHere = () => {\n    localStorage.clear();\n    setUserData({});\n    setToken(\"\");\n    history.push(\"/\");\n  };\n\n  return (\n    <nav className=\"navbar\">\n      {userData._id ? (\n        \"\"\n      ) : (\n        <div className=\"navlinks\">\n          <Link to=\"/\" className=\"nav-link\">\n            {\" \"}\n            Home{\" \"}\n          </Link>\n        </div>\n      )}\n      <div className=\"navlinks\">\n        <Link to=\"/posts\" className=\"nav-link\">\n          {\" \"}\n          Posts{\" \"}\n        </Link>\n      </div>\n      {userData._id ? (\n        <div className=\"navlinks\">\n          <Link to=\"/profile\" className=\"nav-link\">\n            Profile\n          </Link>\n        </div>\n      ) : (\n        \"\"\n      )}\n      {userData._id ? (\n        <div className=\"navlinks\">\n          <Link to=\"/posts/createpost\" className=\"nav-link\">\n            Create Posts\n          </Link>\n        </div>\n      ) : (\n        \"\"\n      )}\n\n      <div className=\"navlinks\">\n        {userData._id ? (\n          <Link to=\"/\" className=\"nav-link\" onClick={() => logOutHere()}>\n            Logout\n          </Link>\n        ) : ( \n          <Link to=\"/login\" className=\"nav-link\">\n            Login/Register\n          </Link>\n        )}\n      </div>\n    </nav>\n  );\n};\nexport default NavBar;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { App } from \"./components\";\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"app\")\n);\n"],"sourceRoot":""}